!function(){var f,c,p,m,n,i,h="WebkitAppearance"in document.documentElement.style?"-webkit-":"",u=/^([\d\.]+)%$/,g=document.createElement("div"),y=document.createElement("div"),v=!1,b=!1,w={transitionDuration:".4s",transitionTimingFunction:"cubic-bezier(.4,0,0,1)",bgColor:"#fff",bgOpacity:1,maxWidth:300,maxHeight:300,onOpen:null,onClose:null,onBeforeClose:null,onBeforeOpen:null},t=(n={},i={transition:"transitionend",mozTransition:"transitionend",webkitTransition:"webkitTransitionEnd"},["webkitTransition","transition","mozTransition"].some(function(t){if(void 0!==g.style[t])return n.transition=t,n.transEnd=i[t],!0}),["webkitTransform","transform","mozTransform"].some(function(t){if(void 0!==g.style[t])return n.transform=t,!0}),n),a=t.transition,s=t.transform,x=s.replace(/(.*)Transform/,"-$1-transform"),C=t.transEnd;function T(t,n,i){!function(t){var n;t.transition&&(n=t.transition,delete t.transition,t[a]=n);t.transform&&(n=t.transform,delete t.transform,t[s]=n)}(n);var e=t.style,o={};for(var r in n)i&&(o[r]=e[r]||""),e[r]=n[r];return o}T(g,{position:"fixed",display:"none",zIndex:99998,top:0,left:0,right:0,bottom:0,opacity:0,backgroundColor:w.bgColor,cursor:h+"zoom-out",transition:"opacity "+w.transitionDuration+" "+w.transitionTimingFunction}),T(y,{position:"fixed",zIndex:99999,top:"50%",left:"50%",width:0,height:0});var E=["position","display","float","top","left","right","bottom","marginBottom","marginLeft","marginRight","marginTop","font","lineHeight","verticalAlign"];var o={config:function(t){if(!t)return w;for(var n in t)w[n]=t[n];return T(g,{backgroundColor:w.bgColor,transition:"opacity "+w.transitionDuration+" "+w.transitionTimingFunction}),this},open:function(t,n){if(!v&&!b){f="string"==typeof t?document.querySelector(t):t,w.onBeforeOpen&&w.onBeforeOpen(f),b=v=!0,c=f.parentNode;var i=f.getBoundingClientRect(),e=Math.min(w.maxWidth/i.width,w.maxHeight/i.height),o=i.left-(window.innerWidth-i.width)/2,r=i.top-(window.innerHeight-i.height)/2;p=function(t,n){for(var i,e=getComputedStyle(t),o=document.createElement("div"),r=E.length;r--;)i=E[r],o.style[i]=e[i];return T(o,{visibility:"hidden",width:n.width+"px",height:n.height+"px",display:"inline"===e.display?"inline-block":e.display}),w.deepCopy?o.innerHTML=t.innerHTML:o.textContent=t.textContent,o}(f,i),m=T(f,{position:"absolute",top:0,left:0,right:"",bottom:"",whiteSpace:"nowrap",marginTop:-i.height/2+"px",marginLeft:-i.width/2+"px",cursor:h+"zoom-out",transform:"translate("+o+"px, "+r+"px)",transition:""},!0);var a=f.style.width.match(u),s=f.style.height.match(u);if(a||s){var l=a?+a[1]/100:1,d=s?+s[1]/100:1;T(y,{width:~~(i.width/l)+"px",height:~~(i.height/d)+"px"})}c.appendChild(g),c.appendChild(y),c.insertBefore(p,f),y.appendChild(f),g.style.display="block";f.offsetHeight;return g.style.opacity=w.bgOpacity,T(f,{transition:x+" "+w.transitionDuration+" "+w.transitionTimingFunction,transform:"scale("+e+")"}),f.addEventListener(C,function t(){f.removeEventListener(C,t),b=!1,(n=n||w.onOpen)&&n(f)}),this}},close:function(n){if(v&&!b){b=!0,w.onBeforeClose&&w.onBeforeClose(f);var t=p.getBoundingClientRect(),i=t.left-(window.innerWidth-t.width)/2,e=t.top-(window.innerHeight-t.height)/2;return g.style.opacity=0,T(f,{transform:"translate("+i+"px, "+e+"px)"}),f.addEventListener(C,function t(){f.removeEventListener(C,t),T(f,m),c.insertBefore(f,p),c.removeChild(p),c.removeChild(g),c.removeChild(y),g.style.display="none",p=null,b=v=!1,(n="function"==typeof n?n:w.onClose)&&n(f)}),this}},listen:function t(n){if("string"!=typeof n)return T(n,{cursor:h+"zoom-in"}),n.addEventListener("click",function(t){t.stopPropagation(),v?o.close():o.open(n)}),this;for(var i=document.querySelectorAll(n),e=i.length;e--;)t(i[e])}};g.addEventListener("click",o.close),y.addEventListener("click",o.close),"object"==typeof exports?module.exports=o:"function"==typeof define&&define.amd?define(function(){return o}):this.Zoomerang=o}(),Zoomerang.config({maxHeight:600,maxWidth:900,bgColor:"#000",bgOpacity:.85}).listen('[data-trigger="zoomerang"]');